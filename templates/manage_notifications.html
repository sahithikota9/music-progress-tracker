{% extends "layout.html" %}
{% block content %}
<div class="page-container">

    <h2 class="page-title">Manage Notifications</h2>

    <form class="notify-form" method="POST" enctype="multipart/form-data">
        <input type="text" name="title" placeholder="Title" required>
        <textarea name="message" placeholder="Write your message..." required></textarea>
        <input type="file" name="file">
        <button type="submit" class="submit-btn">Post Notification</button>
    </form>

    <h3 class="sub-heading">Your Posted Notifications</h3>

    <div class="notifications-container">
        {% if notifications %}
            {% for n in notifications %}
                <div class="notification-card">
                    <h3>{{ n.title }}</h3>
                    <p class="notification-meta">{{ n.date }}</p>
                    <p class="notification-message">{{ n.message }}</p>

                    {% if n.file_path %}
                        <a href="{{ url_for('static', filename='notifications/' + n.file_path) }}" 
                           class="view-file-btn" target="_blank">
                           View File
                        </a>
                    {% endif %}

                    <div class="actions-row">
                        <a href="/edit_notification/{{ n.id }}" class="edit-btn">Edit</a>
                        <a href="/delete_notification/{{ n.id }}" class="delete-btn">Delete</a>
                    </div>

                </div>
            {% endfor %}
        {% else %}
            <p class="no-notifications">You have not posted anything yet.</p>
        {% endif %}
    </div>

</div>
{% endblock %}
